{%- include "apostrophe-modal:macros.html" -%}

{%- macro pieceEditControls() -%}
  <div class="apos-modal-controls">
    {{ modalButton({dataAttrs: 'data-save', float: 'right', color: 'base', label: 'Save'}) }}
    {{ modalButton({dataAttrs: 'data-save data-next', float: 'right', color: 'base', label: __('Add Next')}) }}
    {{ modalButton({dataAttrs: 'data-copy data-action="copy"', float: 'right', color: 'base', label: 'Copy'}) }}
    {{ modalButton({dataAttrs: 'data-versions data-action="versions"', float: 'right', color: 'base', label: 'Versions'}) }}
    {{ modalButton({dataAttrs: 'data-trash data-action="trash"', float: 'right', color: 'base', label: 'Trash'}) }}
    {{ modalButton({dataAttrs: 'data-cancel', float: 'left', arrow: 'left', label: 'Cancel'}) }}
  </div>
{%- endmacro -%}

{%- macro piecePill(name, options) -%}
  <span class="apos-pill" data-pill data-name="{{ name }}">
    {%- for pill in options -%}
      <a class="apos-pill-choice {% if loop.first %}apos-first{% endif %}{% if loop.last %}apos-last{% endif %}" href="#" data-{{ name }}="{{ pill.value }}">{{ __(pill.label) }}</a>
    {%- endfor -%}
  </span>
{%- endmacro -%}

{%- macro piecePublishedFilter() -%}
  {{
    piecePill('published',
      [
        {
          value: '1',
          label: __('Published')
        },
        {
          value: '0',
          label: __('Draft')
        },
        {
          value: 'any',
          label: __('Both')
        }
      ]
    )
  }}
{%- endmacro -%}

{%- macro pieceFilters() -%}
  {{ piecePublishedFilter() }}
{%- endmacro -%}

